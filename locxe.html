<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>L·ªçc xe - SmartBike</title>
    <link rel="stylesheet" href="locxe.css">
</head>
<body>

<div class="wrapper">
    <h1 class="title">üîç T√¨m ki·∫øm & L·ªçc xe</h1>

    <div class="filter-box">

        <div class="filter-row">
            <div class="filter-item">
                <label>T√¨m ki·∫øm theo t√™n xe</label>
                <input type="text" id="searchInput" placeholder="Nh·∫≠p t√™n xe...">
            </div>

            <div class="filter-item">
                <label>S·∫Øp x·∫øp theo gi√°</label>
                <select id="sortSelect">
                    <option value="">M·∫∑c ƒë·ªãnh</option>
                    <option value="asc">Gi√° tƒÉng d·∫ßn</option>
                    <option value="desc">Gi√° gi·∫£m d·∫ßn</option>
                </select>
            </div>
        </div>

        <div class="filter-row">
            <div class="filter-item">
                <label>Lo·∫°i xe</label>
                <select id="typeFilter">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="Xe s·ªë">Xe s·ªë</option>
                    <option value="Tay ga">Tay ga</option>
                    <option value="C√¥n tay">C√¥n tay</option>
                </select>
            </div>

            <div class="filter-item">
                <label>Kho·∫£ng gi√° / ng√†y</label>
                <select id="priceFilter">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="1">D∆∞·ªõi 150.000ƒë</option>
                    <option value="2">150.000ƒë - 250.000ƒë</option>
                    <option value="3">Tr√™n 250.000ƒë</option>
                </select>
            </div>

            <div class="filter-item">
                <label>T√¨nh tr·∫°ng</label>
                <select id="statusFilter">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="available">C√≤n tr·ªëng</option>
                    <option value="rented">ƒêang thu√™</option>
                </select>
            </div>
        </div>

        <div class="filter-row">
            <div class="filter-item">
                <label>Khu v·ª±c</label>
                <select id="areaFilter">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="H·∫£i Ch√¢u">H·∫£i Ch√¢u</option>
                    <option value="S∆°n Tr√†">S∆°n Tr√†</option>
                    <option value="Ng≈© H√†nh S∆°n">Ng≈© H√†nh S∆°n</option>
                </select>
            </div>

            <div class="filter-item">
                <button id="resetBtn" class="reset-btn">X√≥a b·ªô l·ªçc</button>
            </div>
        </div>
    </div>

    <div id="resultInfo" class="result-info"></div>

    <div id="bikeList" class="bike-grid"></div>

</div>

<script>
const bikes = [
  { id: 1, name: "Honda Wave Alpha", brand: "Honda", type: "Xe s·ªë", year: 2022, price: 120000, status: "available", area: "H·∫£i Ch√¢u", image: "img/wave.png" },
  { id: 2, name: "Yamaha Exciter 150", brand: "Yamaha", type: "C√¥n tay", year: 2021, price: 180000, status: "rented", area: "S∆°n Tr√†", image: "img/exciter.png" },
  { id: 3, name: "Honda SH 150i", brand: "Honda", type: "Tay ga", year: 2023, price: 350000, status: "available", area: "Ng≈© H√†nh S∆°n", image: "img/sh150.png" },
  { id: 4, name: "Honda Vision", brand: "Honda", type: "Tay ga", year: 2020, price: 150000, status: "available", area: "H·∫£i Ch√¢u", image: "img/vision.png" },
  { id: 5, name: "Honda Air Blade", brand: "Honda", type: "Tay ga", year: 2023, price: 250000, status: "available", area: "S∆°n Tr√†", image: "img/airblade.png" },
  { id: 6, name: "Yamaha Sirius", brand: "Yamaha", type: "Xe s·ªë", year: 2023, price: 110000, status: "available", area: "Ng≈© H√†nh S∆°n", image: "img/sirius.png" }
];

const searchInput = document.getElementById("searchInput");
const typeFilter = document.getElementById("typeFilter");
const priceFilter = document.getElementById("priceFilter");
const statusFilter = document.getElementById("statusFilter");
const areaFilter = document.getElementById("areaFilter");
const sortSelect = document.getElementById("sortSelect");
const resetBtn = document.getElementById("resetBtn");
const bikeList = document.getElementById("bikeList");
const resultInfo = document.getElementById("resultInfo");

function matchPriceRange(price, range) {
    if (range === "1") return price < 150000;
    if (range === "2") return price >= 150000 && price <= 250000;
    if (range === "3") return price > 250000;
    return true;
}

function renderBikes() {
    const search = searchInput.value.toLowerCase();

    let filtered = bikes.filter(b => {
        return (
            (b.name.toLowerCase().includes(search) || b.brand.toLowerCase().includes(search)) &&
            (typeFilter.value ? b.type === typeFilter.value : true) &&
            matchPriceRange(b.price, priceFilter.value) &&
            (statusFilter.value ? b.status === statusFilter.value : true) &&
            (areaFilter.value ? b.area === areaFilter.value : true)
        );
    });

    if (sortSelect.value === "asc") filtered.sort((a,b)=>a.price-b.price);
    if (sortSelect.value === "desc") filtered.sort((a,b)=>b.price-a.price);

    bikeList.innerHTML = "";
    resultInfo.innerHTML = filtered.length + " xe ph√π h·ª£p.";

    filtered.forEach(b => {
        bikeList.innerHTML += `
            <div class="bike-card">
                <img src="${b.image}">
                <h3>${b.name}</h3>
                <p>${b.brand} ‚Ä¢ ${b.type} ‚Ä¢ ${b.year}</p>
                <p>Khu v·ª±c: <b>${b.area}</b></p>
                <span class="status ${b.status === "available" ? "available" : "rented"}">
                    ${b.status === "available" ? "C√≤n tr·ªëng" : "ƒêang thu√™"}
                </span>

                <button class="book-btn ${b.status !== "available" ? "disabled" : ""}">
                    ${b.status === "available" ? "ƒê·∫∑t xe" : "Kh√¥ng kh·∫£ d·ª•ng"}
                </button>
            </div>
        `;
    });
}

[searchInput, typeFilter, priceFilter, statusFilter, areaFilter, sortSelect].forEach(el=>{
    el.addEventListener("input", renderBikes);
    el.addEventListener("change", renderBikes);
});

resetBtn.addEventListener("click", ()=>{
    searchInput.value = "";
    typeFilter.value = "";
    priceFilter.value = "";
    statusFilter.value = "";
    areaFilter.value = "";
    sortSelect.value = "";
    renderBikes();
});

renderBikes();
</script>

</body>
</html>
